<form method="POST">
  {% csrf_token %}
  {{ form.as_p }}
  <button type="submit">Create Ticket</button>
</form>
<script>
  // Example for dynamically fetching support members based on branch selection
document.getElementById('id_branch').addEventListener('change', function() {
  let branchId = this.value;

  fetch(`/get_support_members_by_branch/${branchId}/`)
      .then(response => response.json())
      .then(data => {
          let assignedToField = document.getElementById('id_assigned_to');
          assignedToField.innerHTML = '';  // Clear previous options
          data.support_members.forEach(function(member) {
              let option = document.createElement('option');
              option.value = member.id;
              option.text = member.username;
              assignedToField.appendChild(option);
          });
      });
});

</script>